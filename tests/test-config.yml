# "splunk" is the alias we gave the service in .gitlab-ci.yml
splunk_hostname: "localhost"

# it seems "admin" is the hardcoded value for the default account in the splunk/splunk docker image
splunk_username: "admin"
# this should probably just refer to the environment variables set in .gitlab-ci.yml
splunk_password: "test_cicd_splunk_password"

tests:
  # these are configs that ship with splunk out of the box
  - configs:
      inputs:
        stanzas:
          udp:
            keys:
              connection_host: ip
      props:
        stanzas:
          breakable_text:
            keys:
              LEARN_MODEL: 1
          too_small:
            keys:
              maxDist: 9999

  # test custom app that does't export its configs
  - app: custom_test_app
    configs:
      custom_test_file:
        stanzas:
          custom_test_stanza:
            keys:
              custom_test_key: custom_app_test_value

  # test custom user app that overrides the above app
  - app: custom_test_app
    user: admin
    configs:
      custom_test_file:
        stanzas:
          custom_test_stanza:
            keys:
              custom_test_key: custom_user_app_test_value

  # test custom user app that doesn't export its configs
  - app: custom_test_user_app
    user: admin
    configs:
      custom_test_file:
        stanzas:
          custom_test_stanza:
            keys:
              custom_test_key: custom_user_app_test_value

  # test that a dummy conf file doesn't exist
  - configs:
      dummyconf:
        state: absent
